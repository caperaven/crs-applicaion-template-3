const h=Object.freeze(["0","#","_"]);class f{#i;#r;#h;#t;#e;get value(){return this.#r}get currentIndex(){return this.#t}get isFilled(){return this.#h.indexOf("_")==-1}constructor(t,i){this.#i=t,this.#e=i,this.#r=n(t),this.#h=this.#r.split(""),this.setCursor(0),this.#s()}dispose(){return this.#i=null,this.#r=null,this.#h=null,this.#t=null,this.#e=null,null}#n(){if(this.#t==this.#i.length)return!1;const t=this.#i[this.#t];return h.indexOf(t)!=-1==!0||(this.#t+=1,this.#n()),!0}#s(){this.#r=this.#h.join(""),this.#e?.(this.#r,this.#t)}setCursor(t){this.#t=t,this.#n(),this.#s()}set(t){this.#t!=this.#i.length&&this.#n()==!0&&u(this.#i[this.#t],t)&&(this.#h[this.#t]=t,this.#t+=1,this.#t>=this.#i.length&&(this.#t=this.#i.length),this.#s())}clearBack(t,i){if(t=t||this.#t,i=i||t,i-t==this.#i.length)return this.clear();if(i-t>1&&t!=null&&i!=null)return this.clear(t,i);if(this.#t==0)return;this.#t=t-1;const e=this.#i[this.#t];h.indexOf(e)!=-1?(this.#h[this.#t]="_",this.#s()):this.clearBack(t-1,i-1)}clear(t,i){if(t==null)return this.#h=n(this.#i).split(""),this.setCursor(0),this.#s();for(let r=t;r<i;r++){const e=this.#i[r];h.indexOf(e)!=-1&&(this.#h[r]="_")}this.setCursor(t),this.#s()}moveIndexLeft(){if(this.#t==0)return;let t=this.#i[this.#t-1];if(h.indexOf(t)!=-1)return this.#t-=1,this.#s();for(let i=this.#t;i>0;i--)if(t=this.#i[i-1],h.indexOf(t)!=-1){this.#t=i;break}return this.#s()}moveIndexRight(){if(this.#t+=1,this.#t>=this.#i.length)return this.#t=this.#i.length,this.#s();const t=this.#i[this.#t];h.indexOf(t)==-1&&this.moveIndexRight(),this.#s()}}function n(s){return s.split("0").join("_").split("#").join("_")}function u(s,t){const i=isNaN(t);return i==!0&&(s=="#"||s=="_")||i==!1&&(s=="#"||s=="0")}export{f as MaskManager,u as canEdit,n as maskToText};
