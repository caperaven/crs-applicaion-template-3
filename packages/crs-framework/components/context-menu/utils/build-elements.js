async function r(n,i,a,e){const t=document.createDocumentFragment();await c(t,n,i),e.innerHTML="",e.appendChild(t);const l=e.querySelector(".parent-menu-item")!=null;return l===!0&&e.classList.add("hierarchy"),a&&await crs.binding.staticInflationManager.inflateElements(e.children,a),l}async function c(n,i,a){for(const e of i){if(e.title?.trim()=="-"){n.appendChild(document.createElement("hr"));continue}const t=await crs.call("dom","create_element",{parent:n,id:e.id,tag_name:"li",dataset:{icon:e.icon,ic:e.icon_color||"black",tags:e.tags||"",...e.dataset||{}},attributes:{role:"menuitem","aria-selected":e.selected==!0,...e.attributes||{}},styles:e.styles,variables:{"--cl-icon":e.icon_color||"black"}});if(a!=null&&e.template!=null){const l=a[e.template],s=await crs.call("html","create",{ctx:e,html:l});t.appendChild(s)}else if(e.children==null)t.textContent=e.title;else{t.classList.add("parent-menu-item"),await crs.call("dom","create_element",{parent:t,tag_name:"div",text_content:e.title});const l=await crs.call("dom","create_element",{parent:t,tag_name:"ul",classes:["submenu"]});await c(l,e.children,a)}}}export{r as buildElements};
