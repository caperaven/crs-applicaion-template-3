import{loadHTML as l}from"./../../src/load-resources.js";class c extends HTMLElement{#t;#e;#s=this.#l.bind(this);get html(){return import.meta.url.replace(".js",".html")}get checked(){return this.#t==="null"?null:this.#t}set checked(t){this.#t=t,this.#i(t)}constructor(){super(),this.attachShadow({mode:"open"})}async connectedCallback(){const t=this.getAttribute("aria-checked");this.#t=t==="true"||(this.dataset.nullable==="true"?"null":!1),this.shadowRoot.innerHTML=await l(import.meta.url),await this.load()}load(){return new Promise(t=>{requestAnimationFrame(async()=>{this.setAttribute("aria-checked",this.#t),this.setAttribute("role","checkbox"),this.shadowRoot.addEventListener("click",this.#s),this.#e=this.shadowRoot.querySelector("#btnCheck"),this.shadowRoot.querySelector("#lblText").innerText=this.getAttribute("aria-label"),this.#i(this.#t),t()})})}async disconnectedCallback(){this.shadowRoot.removeEventListener("click",this.#s),this.#s=null}#i(t){if(this.#e==null)return;t={true:!0,false:!1,null:this.dataset.nullable=="true"?null:!1,mixed:"mixed"}[t],this.setAttribute("aria-checked",t),this.#e.setAttribute("aria-checked",t),this.#e.innerText={true:"check-box",false:"check-box-blank",null:"check-box-null",mixed:"check-box-mixed"}[t],this.#t=t,this.dispatchEvent(new CustomEvent("checkedChange",{bubbles:!0,composed:!0}))}#l(t){const e=this.dataset.nullable=="true",s=this.getAttribute("aria-checked"),i={true:"false",false:e?null:"true",null:"true",mixed:"true"}[s];this.#i(i)}}customElements.define("check-box",c);export{c as Checkbox};
